<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Portafolio Técnico Informático - Contacto</title>
  <link rel="stylesheet" href="../CSS/styles.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" />
  <!-- EmailJS SDK -->
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
  <link rel="icon" type="image/x-icon" href="../img/favicon.ico">
</head>
<body>
  <header>
    <div class="logo">Portafolio Técnico <strong>Informático</strong></div>
    <button class="menu-toggle" aria-label="Abrir menú" aria-controls="main-menu" aria-expanded="false">
      &#9776;
    </button>
    <nav id="main-menu" aria-label="Menú principal">
      <ul>
        <li><a href="../index.html">Inicio</a></li>
        <li><a href="../sobre-mi/sobre-mi.html">Sobre mí</a></li>
        <li><a href="../Proyectos/Proyectos.html">Proyectos</a></li>
        <li><a href="../manuales/manuales.html">Manuales técnicos</a></li>
        <li><a href="../recursos/recursos.html">Recursos</a></li>
        <li><a href="contacto.html" class="active">Contacto</a></li>
      </ul>
    </nav>
  </header>

  <main>
    <section class="contacto">
      <h1>Contacto</h1>
      <p>¿Quieres ponerte en contacto conmigo? Completa el formulario y te responderé lo antes posible.</p>
      
      <form id="contactForm">
        <label for="nombre">Nombre:</label>
        <input type="text" id="nombre" name="nombre" required placeholder="Tu nombre">

        <label for="correo">Correo electrónico:</label>
        <input type="email" id="correo" name="correo" required placeholder="Tu correo electrónico">

        <label for="asunto">Asunto:</label>
        <select id="asunto" name="asunto" required>
          <option value="Oferta de trabajo">Oferta de trabajo</option>
          <option value="Consulta técnica">Consulta técnica</option>
          <option value="Colaboración">Colaboración</option>
          <option value="Otro">Otro</option>
        </select>

        <label for="mensaje">Mensaje:</label>
        <textarea id="mensaje" name="mensaje" rows="5" required placeholder="Escribe tu mensaje aquí"></textarea>

        <!-- Honeypot anti-spam -->
        <div style="display:none;">
          <label for="website">Si eres humano, deja este campo vacío:</label>
          <input type="text" id="website" name="website" 
            style="opacity:0;position:absolute;top:-100px;left:-100px;height:1px;width:1px;" 
            tabindex="-1" autocomplete="off">
        </div>

        <button type="submit">Enviar mensaje</button>
      </form>
      
      <div id="mensaje-estado" style="margin-top: 20px; display: none;"></div>
    </section>
  </main>

  <footer>
    <div class="footer-columns">
      <div>
        <strong>Sobre mí</strong><br>
        Técnico Informático<br>
        Madrid, España
      </div>
      <div>
        <strong>Recursos</strong><br>
        <a href="../manuales/manuales.html">Manuales técnicos</a><br>
        <a href="../Proyectos/Proyectos.html">Proyectos</a>
      </div>
      <div>
        <strong>Contáctame</strong><br>
        <a href="mailto:yefrijoseurrutia@gmail.com">yefrijoseurrutia@gmail.com</a><br>
      </div>
      <div class="footer-social">
        <a href="https://www.linkedin.com/in/yefri-urrutia-hernandez-informatica/" target="_blank" aria-label="LinkedIn">
          <!-- LinkedIn SVG -->
          <svg width="24" height="24" fill="#607d8b" viewBox="0 0 24 24"><path d="M19 0h-14c-2.76 0-5 2.24-5 5v14c0 2.76 2.24 5 5 5h14c2.76 0 5-2.24 5-5v-14c0-2.76-2.24-5-5-5zm-11 19h-3v-10h3v10zm-1.5-11.25c-.97 0-1.75-.78-1.75-1.75s.78-1.75 1.75-1.75 1.75.78 1.75 1.75-.78 1.75-1.75 1.75zm13.5 11.25h-3v-5.5c0-1.1-.9-2-2-2s-2 .9-2 2v5.5h-3v-10h3v1.5c.41-.59 1.09-1.5 2.5-1.5 1.93 0 3.5 1.57 3.5 3.5v6.5z"/></svg>
        </a>
        <a href="https://github.com/Yefri-jose-urrutia" target="_blank" aria-label="GitHub">
          <!-- GitHub SVG -->
          <svg width="24" height="24" fill="#607d8b" viewBox="0 0 24 24"><path d="M12 .5C5.73.5.5 5.73.5 12c0 5.08 3.29 9.39 7.86 10.93.58.11.79-.25.79-.56v-2.02c-3.2.7-3.87-1.54-3.87-1.54-.53-1.34-1.3-1.7-1.3-1.7-1.06-.72.08-.71.08-.71 1.17.08 1.79 1.2 1.79 1.2 1.04 1.78 2.73 1.27 3.4.97.11-.75.41-1.27.75-1.56-2.56-.29-5.26-1.28-5.26-5.7 0-1.26.45-2.29 1.19-3.09-.12-.29-.52-1.45.11-3.02 0 0 .97-.31 3.18 1.18a11.07 11.07 0 012.9-.39c.98.01 1.97.13 2.9.39 2.2-1.49 3.17-1.18 3.17-1.18.63 1.57.23 2.73.11 3.02.74.8 1.19 1.83 1.19 3.09 0 4.43-2.7 5.41-5.27 5.7.42.36.8 1.08.8 2.18v3.23c0 .31.21.67.8.56C20.71 21.39 24 17.08 24 12c0-6.27-5.23-11.5-12-11.5z"/></svg>
        </a>
      </div>
    </div>
    <hr>
    <div class="footer-copy">
      &copy; 2025 Yefri Jose Urrutia Hernandez. Todos los derechos reservados.
    </div>
  </footer>

  <script>
    (function() {
      emailjs.init("I2-6iflpgHvARt6jH");
      document.getElementById('contactForm').addEventListener('submit', function(event) {
        event.preventDefault();
        const statusDiv = document.getElementById('mensaje-estado');
        statusDiv.style.display = 'block';
        statusDiv.innerHTML = '<p style="color: blue;">Enviando mensaje, espere por favor...</p>';

        // Honeypot anti-spam
        if (document.getElementById('website').value) {
          statusDiv.innerHTML = '<p style="color: red;">Detectado spam.</p>';
          return;
        }

        const templateParams = {
          name: document.getElementById('nombre').value,
          email: document.getElementById('correo').value,
          title: document.getElementById('asunto').value,
          message: document.getElementById('mensaje').value
        };

        emailjs.send('service_6pi7hiy', 'template_zim0nhf', templateParams)
          .then(function(response) {
            console.log('SUCCESS!', response.status, response.text);
            statusDiv.innerHTML = '<p style="color: green;">¡Mensaje enviado correctamente! Me pondré en contacto contigo pronto.</p>';
            document.getElementById('contactForm').reset();
            localStorage.setItem('lastSubmitTime', new Date().getTime().toString());
          }, function(error) {
            console.log('FAILED...', error);
            statusDiv.innerHTML = '<p style="color: red;">Hubo un problema al enviar el mensaje. Por favor intenta de nuevo.</p>';
          });
      });
    })();
  </script>
  <script src="../JS/script.js"></script>
</body>
</html>